<!DOCTYPE html>
<html>
<head>
  <title>Squawker</title>
  <%= stylesheet_link_tag    'application', media: 'all' %>
  <%= javascript_include_tag 'application' %>
  <%= csrf_meta_tags %>
</head>
<body>

  <div class="wrapper">
    <nav role="navigation" class="navbar navbar-inverse">
      <div class="container">
        <div class="navbar-header">
          <i class="fa fa-twitter-square fa-3x pull-left"></i>
            <%= link_to "Squawker", root_path, class: "navbar-brand" %>
        </div>

        <div id="navbar">
          <ul class="nav navbar-nav navbar-right">
            <% if user_signed_in? %>
              <!-- Only shows profile when a username has been saved to the db. -->
                <% if current_user.username? %>
                  <li><%= link_to "Profile", profile_view_path(username: current_user.username), :class => 'navbar-link' %></li>
                <% end %>
              <li><%= link_to "Logout", destroy_user_session_path, :class => 'navbar-link'  %></li>
            <% else %>
              <li><%= link_to "Sign Up", new_user_registration_path, :class => 'navbar-link' %></li>
            <% end %>
            <%= form_tag search_path, :method => :get, class: "navbar-form navbar-left" do %>
                <%= text_field_tag :search_item, params[:search_item], placeholder: 'Search...', :autocomplete => :off, class: "form-control"  %>
                <%= submit_tag "Search", class: "btn btn-primary" %>
            <% end %>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Hidden form for new squawks -->
    <%= render partial: 'squawks/form', layout: 'squawks/squawk_modal' %>

    <!-- Shows errors when one is present -->
    <div class="container">
      <div class="alert alert-dismissable" id="ajax-flashes">
        <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
      </div>
    </div>

    <div class="container">

      <button action="squawks/new" type="button" class="btn btn-primary" data-toggle="modal" data-target="#new_squawk_modal">
        New Squawk
      </button>

      <%= yield %>

    </div>

  </div>


  <div class="footer"></div>

</body>
</html>
